---
title: 贪心法解背包问题——基于JavaScript
date: 2020-12-01
updated: 2020-12-01
tags:
  - 算法
# password: hankhank
# message: 这篇文章正在保护期，请输入密码。
# categories:
# keywords:
description: 算法实验中衍生的程序。<br>利用贪心原则取高重价比，在JS上实现较为简单。
# top_img:
# comments:
cover: https://cdn.jsdelivr.net/gh/hankzhangcn/CDN@master/img/贪心法接背包问题_封面.2zoqnvp2plq0.jpg
# toc:
# toc_number:
# copyright:
# copyright_author:
# copyright_author_href:
# copyright_url:
# copyright_info:
katex: false
# aplayer:
# highlight_shrink:
# aside:
# published: false
---

<style>
form input{
    height: 40px;
    margin: 20px;
    border-radius: 10px;
    padding-left: 10px;
    min-width: 300px;
    transition: box-shadow 0.25s ease;
    outline: none;
    border:none;
    background-color: #e3e3e3;
}
form input:hover{
      box-shadow:0 10px 8px rgba(0, 0, 0, 0.158);
  }
</style>
# 随便说说
如果需要了解贪心法，请看这篇[硬币问题](7df72f84cb13.html)
贪心法相较来说更加简洁，这里就不展开了。

# 试一试
<form>
    <fieldset>
    <legend>贪心法解决背包问题</legend>
        <a>重量：</a><input id='c' value='32' placeholder='32'/></br>
        <a>价值：</a><input id='v' value='10,20,30' placeholder='10,20,30'/></br>
        <a>重量：</a><input id='w' value='5,20,10,12' placeholder='5,20,10,12'/>
        <input type='button' id='submit' value='贪心求解'></input></br>
        <a>贪心法求最优价值：</a><a id='bv'></a>
    </fieldset>
</form>

<script>
    function greedy(values, weights, capacity)
    {
    var returnValue = 0
    var remainCapacity = capacity
    var sortArray = []
    values.map((cur, index) =>
    {
        sortArray.push(
        {
        'value': values[index],
        'weight': weights[index],
        'ratio': values[index]/weights[index]
        })
    })
    sortArray.sort(function(a, b){
        return b.ratio - a.ratio
    })
    console.log(sortArray)
    sortArray.map((cur,index) =>
    {
        var num = parseInt(remainCapacity/cur.weight)
        console.log(num)
        remainCapacity -= num*cur.weight
        returnValue += num*cur.value
    })
    return returnValue
    }
    document.getElementById('submit').onclick = function(event)
    {
        var capacity =parseInt(document.getElementById('c').value);
        var  v_str =  document.getElementById('v').value ;
        var  values = v_str.split( ',' );
        var  w_str =  document.getElementById('w').value ;
        var  weights = w_str.split( ',' );

        console.log(greedy(values, weights, capacity)) // 320
        document.getElementById("bv").innerHTML = greedy(values, weights, capacity);
    }
</script>

# 代码
```js
function greedy(values, weights, capacity)
    {
    var returnValue = 0
    var remainCapacity = capacity
    var sortArray = []
    values.map((cur, index) =>
    {
        sortArray.push(
        {
        'value': values[index],
        'weight': weights[index],
        'ratio': values[index]/weights[index]
        })
    })
    sortArray.sort(function(a, b){
        return b.ratio - a.ratio
    })
    console.log(sortArray)
    sortArray.map((cur,index) =>
    {
        var num = parseInt(remainCapacity/cur.weight)
        console.log(num)
        remainCapacity -= num*cur.weight
        returnValue += num*cur.value
    })
    return returnValue
    }
    document.getElementById('submit').onclick = function(event)
    {
        var capacity =parseInt(document.getElementById('c').value);
        var  v_str =  document.getElementById('v').value ;
        var  values = v_str.split( ',' );
        var  w_str =  document.getElementById('w').value ;
        var  weights = w_str.split( ',' );

        console.log(greedy(values, weights, capacity)) // 320
        document.getElementById("bv").innerHTML = greedy(values, weights, capacity);
    }
```